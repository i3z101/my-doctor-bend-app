<%- include("../reusable/beginning", {
    title: "Payment"
}) -%>

<section class="payment_image_sction">
    <img src="/imgs/payment.svg" alt="payment" class="payment_image" />
</section>
<section class="payment_container">
    <div class="card_container">
         <p class="checkout">Checkout</p>
        <div class="appointment_text_container">
            <div>
                <p class="appointment_text"><%= amount %>$</p>
            </div>
        </div>
        <div class="summary_container">
            <h2>Summary</h2>
            <p>Appointment with <strong style="color: white;">Dr.<%= doctorFullName %></strong></p>
            <p><%= date %> <strong style="color: white;"> At <%= time %> </strong></p>
            <div class="divider"></div>
        </div>
        <p class="checkout" style="color: black;">Payment Details</p>
        <form class="form_payment_container" acceptCharset="UTF-8" action="https://api.moyasar.com/v1/payments.html" method="POST">
            <input type="hidden" name="callback_url" value="<%= callbackUrl %>/payment-status?appointmentAmount=<%= amount %>&date=<%= date %>&time=<%= time %>"/>
            <input type="hidden" name="publishable_api_key" value="pk_test_uA6t1pjJwACGsP5nuj9Rb4uKuMVSNFPEVjrX8apP" />
            <input type="hidden" name="source[type]" value="creditcard" />
            <input type="hidden" name="amount" value="1000" />
            <input class='card_input' type="text" name="source[name]" id="cardHolderName" placeholder="Cardholder's Name"/>
            <span id="nameValidation" class="validation"></span>
            <input class='card_input' type="number" inputMode="numeric" name="source[number]" id="cardNumber" placeholder="Card Number"/>
            <span id="numValidation" class="validation"></span>
            <select name="source[month]" id="month">
                <option value="" disabled selected>Choose Month</option>
            </select>
            <select name="source[year]" id="year">
                <option disabled selected>Choose Year</option>
            </select>
            <input class='card_input' type="number" inputMode="numeric" name="source[cvc]" id="cvc" placeholder="cvc" style="margin-top: 0.5rem;"/>
            <span id="cvcValidation" class="validation"></span>
            <button type="submit" class="pay_button" id="pay_button">Checout <img src="/imgs/arrow.svg" alt="arrow" class="arrow_image" /></button>
        </form>
    </div>
</section>

<script src="/js/payment.js"></script>
<script src="/js/validations.js"></script>
</body>
<%- include("../reusable/end") -%>
